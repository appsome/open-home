<!DOCTYPE html>
<!--[if IEMobile 7 ]>    <html class="no-js iem7"> <![endif]-->
<!--[if (gt IEMobile 7)|!(IEMobile)]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>BasicWebserver</title>
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta http-equiv="cleartype" content="on">
        
        <link rel="apple-touch-icon-precomposed" sizes="29x29" href="/static/img/touch/AppIcon29x29.png">
        <link rel="apple-touch-icon-precomposed" sizes="40x40" href="/static/img/touch/AppIcon40x40.png">
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/static/img/touch/AppIcon60x60.png">        
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/static/img/touch/AppIcon76x76.png">
        <meta name="apple-mobile-web-app-capable" content="yes">    
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="apple-mobile-web-app-title" content="Lights">

        <!-- Tile icon for Win8 (144x144 + tile color) -->
        <meta name="msapplication-TileImage" content="/static/img/touch/AppIcon144x144.png">
        <meta name="msapplication-TileColor" content="#1564FB">
        <meta name="application-name" content="Lights"/>

        <!-- This script prevents links from opening in Mobile Safari. https://gist.github.com/1042026 -->
        <!--
        <script>(function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone")</script>
        -->
        <style type="text/css">
        html, body {
            font-family: "Helvetica Neue";
            font-weight: 300;
            color: rgb(21, 125, 251);
            background: #fff;
        }

        h1 {
            text-transform: lowercase;
            font-weight: 500;
            font-size: 24px;            
            text-align: center;
        }

        h1 span {
            font-size: 16px;
            font-weight: 400;
            opacity: 0.5;
        }

        a {
            text-decoration: none;
            color: rgb(21, 125, 251);
            border: 1px solid rgb(21, 125, 251);
            border-radius: 10px;
            padding: 10px 49px;
            margin: 10px;          
        }

        div > div {
            margin: 40px 0px;
        }
        </style>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>
        String.prototype.splice = function( idx, rem, s ) {
            return (this.slice(0,idx) + s + this.slice(idx + Math.abs(rem)));
        };

        function sendMessage(e, message) {
            message = message.splice(3, 0, '/');
            $.getJSON('/arduino/433/' + message + '/?time=' + new Date().getTime());

            e.preventDefault();
            return false;
        }

        function sendMessages(e, messages) {
            for (i in messages) {
                var message = messages[i].splice(3, 0, '/');
                jQuery.ajax('/arduino/433/' + message + '/?time=' + new Date().getTime(), { async: false });                
            }

            e.preventDefault();
            return false;
        }


        </script>
    </head>
    <body>
        <div>
            <h1>Device 1 <span>set 1448</span></h1>
            <div>
                <a href="javascript:void(0)" onclick="sendMessage(event, '232F0FF0FFF0101')">ON</a>
                <a href="javascript:void(0)" onclick="sendMessage(event, '232F0FF0FFF0110')">OFF</a>
            </div>
        </div>
        <div>
            <h1>Device 2 <span>set 1448</span></h1>
            <div>
                <a href="javascript:void(0)" onclick="sendMessage(event, '232F0FF0FFF1001')">ON</a>
                <a href="javascript:void(0)" onclick="sendMessage(event, '232F0FF0FFF1010')">OFF</a>
            </div>
        </div>
        <div>
            <h1>Device 3 <span>set 1448</span></h1>
            <div>
                <a href="javascript:void(0)" onclick="sendMessage(event, '232F0FF0FF10001')">ON</a>
                <a href="javascript:void(0)" onclick="sendMessage(event, '232F0FF0FF10010')">OFF</a>
            </div>
        </div>
        <div>
            <h1>Device group 1+3 <span>set 1441</span></h1>
            <div>
                <a href="javascript:void(0)" onclick="sendMessages(event, ['22900F0FFFF0101', '22900F0FFF10001'])">ON</a>
                <a href="javascript:void(0)" onclick="sendMessages(event, ['22900F0FFFF0110', '22900F0FFF10010'])">OFF</a>
            </div>
        </div>
    </body>
</html>
